

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Aard Tools &mdash; Aard Dictionary</title>
    
    <link rel="stylesheet" href="../../_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.9.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="Aard Dictionary" href="../../index.html" />
    <link rel="next" title="Aard Format" href="aardformat.html" />
    <link rel="prev" title="Aard Dictionary for Android" href="../../aarddict-android/doc/aarddict-android.html" />
 
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-19351563-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

<link rel="stylesheet" type="text/css"
      href="../../_static/css/aarddict.org.css" />
<link rel="stylesheet" media="screen" type="text/css"
      href="../../_static/css/font-awesome.css" />

  </head>
  <body>
      <div class="header"><div align="center">
          <table>
            <tr>
              <td>
	        <a href="../../index.html">
		  <img style="vertical-align: middle;" src="../../_static/aarddict_big.png"/>
	        </a>
              </td>
              <td>
                <h1 class="heading" style="padding-top: 0px; padding-left: 10px;"><a href="../../index.html">
	            <span id="siteName">Aard Dictionary</span></a></h1>
                <div align="center" style="margin-top: -5px;">
                  <a class="uplink icon-link"
                     href="http://github.com/aarddict"><i class="fa fa-github"></i></a>
                  <a class="uplink icon-link"
                     href="http://www.twitter.com/aarddict"><i class="fa fa-twitter"></i></a>
                  <a class="uplink icon-link" href="/forum"><i class="fa fa-comments"></i></a>
                  <a class="uplink icon-link" href="../../docs/index.html"><i class="fa fa-question-circle"></i></a>
                </div>

              </td>
            </tr>
          </table>
          </div>
      </div>
      <div class="topnav">

	
	    
        <p>
        «&#160;&#160;<a href="../../aarddict-android/doc/aarddict-android.html">Aard Dictionary for Android</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../docs/index.html">Docs</a>
        &#160;&#160;::&#160;&#160;
        <a href="aardformat.html">Aard Format</a>&#160;&#160;»
        </p>

	

      </div>
      <div class="content">
        
        
  <div class="section" id="module-aardtools">
<span id="aard-tools"></span><h1>Aard Tools<a class="headerlink" href="#module-aardtools" title="Permalink to this headline">¶</a></h1>
<p>Aard Dictionary uses dictionaries in it&#8217;s own
<a class="reference internal" href="aardformat.html"><em>binary format</em></a> designed for fast word lookups and high
compression. <cite>Aard Tools</cite> is a collection of tools to produce
<a class="reference internal" href="aardformat.html"><em>Aard files</em></a> (<tt class="docutils literal"><span class="pre">.aar</span></tt>).</p>
<div class="section" id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Python 2.7</li>
<li>UNIX-like OS.</li>
<li>Compiling large Mediawiki dumps such as English or German Wikipedia
requires <strong>64-bit</strong> multicore machine.</li>
</ul>
</div>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Instructions below are for Ubuntu Linux 12.10. Consult your
distibution&#8217;s packaging system to find corresponding package names
and commands to install them.</p>
</div>
<div class="section" id="prerequisites">
<h3>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h3>
<p>Your system must be able to compile C and C++ programs:</p>
<div class="highlight-python"><div class="highlight"><pre>sudo apt-get install build-essential
</pre></div>
</div>
<p>Your system must be able to compiled Python C extensions:</p>
<div class="highlight-python"><div class="highlight"><pre>sudo apt-get install python-dev
</pre></div>
</div>
<p><cite>Aard Tools</cite> will be installed in a  <a class="reference external" href="http://pypi.python.org/pypi/virtualenv">virtualenv</a>:</p>
<div class="highlight-python"><div class="highlight"><pre>sudo apt-get install python-virtualenv
</pre></div>
</div>
<p><cite>Aard Tools</cite> rely on Python interfaces to
<a class="reference external" href="http://icu-project.org/">International Components for Unicode</a>, which must be installed
beforehand:</p>
<div class="highlight-python"><div class="highlight"><pre>sudo apt-get install libicu-dev
</pre></div>
</div>
<p>Install other non-Python dependencies:</p>
<div class="highlight-python"><div class="highlight"><pre>sudo apt-get install libevent-dev libxml2-dev libxslt1-dev
</pre></div>
</div>
<p>Install <a class="reference external" href="http://git-scm.com/">Git</a>:</p>
<div class="highlight-python"><div class="highlight"><pre>sudo apt-get install git
</pre></div>
</div>
<p><cite>Aard Tools</cite> renders mathematical formulas using several tools: <strong class="command">latex</strong>,
<strong class="command">blahtexml</strong>, <strong class="command">texvc</strong> and <strong class="command">dvipng</strong>.</p>
<p>Install <strong class="command">latex</strong>:</p>
<div class="highlight-python"><div class="highlight"><pre>sudo apt-get install texlive-latex-base
</pre></div>
</div>
<p>Install <a class="reference external" href="http://gva.noekeon.org/blahtexml/">blahtex</a>:</p>
<div class="highlight-python"><div class="highlight"><pre>sudo apt-get install blahtexml
</pre></div>
</div>
<p>Install <strong class="command">texvc</strong> (it is part of MediaWiki distribution):</p>
<div class="highlight-python"><div class="highlight"><pre>sudo apt-get install mediawiki-math
</pre></div>
</div>
<p>Install <strong class="command">dvipng</strong>:</p>
<div class="highlight-python"><div class="highlight"><pre>sudo apt-get install dvipng
</pre></div>
</div>
<p><strong class="command">texvc</strong> is what Wikipedia uses to render math and it&#8217;s most compatible
with the TeX markup flavour used in Wikipedia articles. However, png
images produced by texvc are not transparent and don&#8217;t look very
good. <strong class="command">blahtexml</strong> has a <strong class="command">texvc</strong> compatibility mode, produces better
looking images, but is more strict about TeX syntax, so it fails on
quite a few equations. So first thing article converter tries is using
<strong class="command">latex</strong> and <strong class="command">dvipng</strong> directly, with some additional LaTeX command
definitions for <strong class="command">texvc</strong> compatibility (borrowed from
<strong class="command">blahtexml</strong>). This produces best looking images and works on most
equations, but not all of them. When it fails, it falls back to
<strong class="command">blahtexml</strong>, and then finally <strong class="command">texvc</strong>. If all fails (for example
neither tools is installed) article ends up with raw math markup.</p>
</div>
<div class="section" id="id1">
<h3>Installation<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>Create Python virtual environment:</p>
<div class="highlight-python"><div class="highlight"><pre>virtualenv env-aard
</pre></div>
</div>
<p>Activate it:</p>
<div class="highlight-python"><div class="highlight"><pre>source env-aard/bin/activate
</pre></div>
</div>
<p>Install <cite>Aard Tools</cite>:</p>
<div class="highlight-python"><div class="highlight"><pre>pip install -e git+git://github.com/aarddict/tools.git#egg=aardtools
</pre></div>
</div>
</div>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>Entry point for <cite>Aard Tools</cite> is <tt class="docutils literal"><span class="pre">aardc</span></tt> command - Aard Dictionary compiler. It
requires two arguments: input file type and input file name. Input
file type is the name of Python module that actually reads input files and
performs article conversion. <cite>Aard Tools</cite> &#8220;out of the box&#8221; comes with
support for the following input types:</p>
<dl class="docutils">
<dt>xdxf</dt>
<dd>Dictionaries in <a class="reference external" href="http://xdxf.sourceforge.net/">XDXF</a> format (only <a class="reference external" href="http://xdxf.revdanica.com/drafts/visual/latest/XDXF-draft-028.txt">XDXF-visual</a> is supported).</dd>
<dt>mwcouch</dt>
<dd>Wikipedia articles stored in CouchDB (as returned by <a class="reference external" href="https://www.mediawiki.org/wiki/API">MediaWiki
API</a>&#8216;s <cite>parse</cite>)</dd>
<dt>wiki</dt>
<dd><div class="first deprecated">
<p><span class="versionmodified">Deprecated since version 0.9.0.</span></p>
</div>
<p class="last">Use <cite>mwcouch</cite> instead.
Wikipedia articles and templates <abbr title="Constant Database">CDB</abbr>
built with <strong class="command">mw-buildcdb</strong> from Wikipedia XML dump.</p>
</dd>
<dt>aard</dt>
<dd>Dictionaries in aar format. This is useful for updating dictionary metadata
and changing the way it is split into volumes. Multiple input files can
be combined into one single or multi volume dictionary.</dd>
<dt>wordnet</dt>
<dd><a class="reference external" href="http://wordnet.princeton.edu/">WordNet</a></dd>
</dl>
<p>Synopsis:</p>
<div class="highlight-python"><div class="highlight"><pre>usage: aardc [-h] [--version] [-o OUTPUT_FILE] [-s MAX_FILE_SIZE] [-d] [-q]
             [--work-dir WORK_DIR] [--show-legend] [--log-file LOG_FILE]
             [--metadata METADATA] [--license LICENSE] [--copyright COPYRIGHT]
             [--dict-ver DICT_VER] [--dict-update DICT_UPDATE]
             {wiki,xdxf,wordnet,aard,mwcouch,dummy} ...

optional arguments:
  -h, --help            show this help message and exit
  --version             show program&#39;s version number and exit
  -o OUTPUT_FILE, --output-file OUTPUT_FILE
                        Output file name. By default is the same as input file
                        base name with .aar extension
  -s MAX_FILE_SIZE, --max-file-size MAX_FILE_SIZE
                        Maximum file size in bytes, kilobytes(K), megabytes(M)
                        or gigabytes(G). Default: 2147483647 bytes
  -d, --debug           Turn on debugging messages
  -q, --quite           Print minimal information about compilation progress
  --work-dir WORK_DIR   Directory for temporary file created during
                        compilatiod. Default: .
  --show-legend         Show progress legend
  --log-file LOG_FILE   Log file name. By default derived from output file
                        name by adding .log extension
  --metadata METADATA   INI containing dictionary metadata in [metadata]
                        section
  --license LICENSE     Name of a UTF-8 encoded text file containing license
                        text
  --copyright COPYRIGHT
                        Name of a UTF-8 encoded text file containing copyright
                        notice
  --dict-ver DICT_VER   Version of the compiled dictionary
  --dict-update DICT_UPDATE
                        Update number for the compiled dictionary. Default: 1

converters:
  Available article source types

  {wiki,xdxf,wordnet,aard,mwcouch,dummy}
</pre></div>
</div>
<div class="section" id="compiling-mediawiki-couchdb-dump">
<h3>Compiling MediaWiki CouchDB Dump<a class="headerlink" href="#compiling-mediawiki-couchdb-dump" title="Permalink to this headline">¶</a></h3>
<p>Get MediaWiki CouchDB using <a class="reference external" href="https://github.com/itkach/mwscrape">mwscrape.py</a> (if downloading pre-made
<a class="reference external" href="http://couchdb.apache.org">CouchDB</a> database be sure to also download siteinfo database and/or run
<a class="reference external" href="https://github.com/itkach/mwscrape">mwscrape.py</a> to fetch or update it).</p>
<p>Run</p>
<div class="highlight-python"><div class="highlight"><pre>aardc mwcouch -h
</pre></div>
</div>
<p>for usage details and complete list of options.</p>
<p>For example, command to compile a dictionary from a database named
<tt class="docutils literal"><span class="pre">ru-m-wiktionary-org</span></tt> on a local CouchDB server may look like this:</p>
<div class="highlight-python"><div class="highlight"><pre>export AARDC_MWCOUCH_FILTER_DIR=~/aardtools/mwcouch/filters/
aardc mwcouch http://localhost:5984/ru-m-wiktionary-org -f common image wikt
</pre></div>
</div>
<p>To compile wikipedia from <tt class="docutils literal"><span class="pre">en-m-wikipedia-org</span></tt> CouchDB database:</p>
<div class="highlight-python"><div class="highlight"><pre>aardc mwcouch http://127.0.0.1:5984/en-m-wikipedia-org -f common wiki image
</pre></div>
</div>
<p>To compile also remove reference lists and infoboxes:</p>
<div class="highlight-python"><div class="highlight"><pre>aardc mwcouch http://127.0.0.1:5984/en-m-wikipedia-org -f common wiki image reflist infobox
</pre></div>
</div>
<p>Optional content filter file may be specified to clean up articles of
unnecessary elements and to reduce resulting dictionary size.  Content
filter file for <tt class="docutils literal"><span class="pre">mwcouch</span></tt> converter is a text file with one CSS
selector per line. Individual selectors may also be specified as
command line argument.  Each selector is applied to article HTML and
matching elements are removed. See <a class="reference external" href="http://pythonhosted.org/cssselect/">cssselect documentation</a> for
details on supported selectors. Examples of content filters are included (under
<tt class="file docutils literal"><span class="pre">aardtools/mwcouch/filters</span></tt>). Note that no content filters are
applied by default. Multiple file names may be specified to combine
filters from several files.</p>
</div>
<div class="section" id="compiling-wiki-xml-dump">
<h3>Compiling Wiki XML Dump<a class="headerlink" href="#compiling-wiki-xml-dump" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Since early 2013 Wikipedia sites are actively using <a class="reference external" href="https://www.mediawiki.org/wiki/Lua_scripting">Lua
scripting</a> instead of traditional MediaWiki templates. Such
content is not rendered by <a class="reference external" href="http://pediapress.com/code/">mwlib</a>, library wiki converter uses to
parse MediaWiki markup. Use <tt class="docutils literal"><span class="pre">mwcouch</span></tt> converter instead, as
described above.</p>
</div>
<p>Get a Wiki dump to compile, for example:</p>
<div class="highlight-python"><div class="highlight"><pre>wget http://download.wikimedia.org/simplewiki/20101026/simplewiki-20101026-pages-articles.xml.bz2
</pre></div>
</div>
<p>Get Mediawiki site information:</p>
<div class="highlight-python"><div class="highlight"><pre>aard-siteinfo simple.wikipedia.org &gt; simple.json
</pre></div>
</div>
<p>Build mwlib article database:</p>
<div class="highlight-python"><div class="highlight"><pre>mw-buildcdb --input simplewiki-20130203-pages-articles.xml.bz2 --output simplewiki-20130203.cdb
</pre></div>
</div>
<p>Original dump is not needed after this, it may be deleted or moved to
free up disk space.</p>
<p>Parsing certain content elements is locale specific. Make sure your
system has approparite locale available. For example, if compiling
Polish Wikipedia:</p>
<div class="highlight-python"><div class="highlight"><pre>sudo locale-gen pl
</pre></div>
</div>
<p>Compile small sample dictionary from the article database:</p>
<div class="highlight-python"><div class="highlight"><pre>aardc wiki simplewiki-20130203.cdb simplewiki.json --article-count 1000 --filter enwiki
</pre></div>
</div>
<p>Verify that resulting dictionary has good metadata (description,
license, source url), that &#8220;View Online&#8221; action works and article
formatting is formatting. Content filters may need to be created or
modified to clean up resulting articles of unwanted navigational
links, article messages, empty sections etc. In the example above we
indicate that we would like to use built-in filter set for English
Wikipedia.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#content-filters">Content Filters</a></p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#language-links">Language Links</a></p>
</div>
<p>Compiler infers from the input file name that Wikipedia language
is &#8220;simple&#8221; and that version is 20130203. These need to be specified
explicitely through command line options if cdb directory name doesn&#8217;t
follow the pattern of the xml dump file names.</p>
<p>If siteinfo&#8217;s general section specifies one of the two licences used
for <a class="reference external" href="http://wikimediafoundation.org">Wikimedia Foundation</a> projects - <a class="reference external" href="http://creativecommons.org/licenses/by-sa/3.0/legalcode">Creative Commons
Attribution-Share Alike 3.0 Unported</a> or <a class="reference external" href="http://www.gnu.org/licenses/fdl-1.2.html">GNU Free Documentation
License 1.2</a> - license text will be included into dictionary&#8217;s
metadata. You can also specify explicitly files containing license
text and copyright notice with <tt class="docutils literal"><span class="pre">--license</span></tt> and <tt class="docutils literal"><span class="pre">--copyright</span></tt>
options. Use <tt class="docutils literal"><span class="pre">--metadata</span></tt> option to specify file containing
additional dictionary meta data, such as description.</p>
<div class="section" id="content-filters">
<h4>Content Filters<a class="headerlink" href="#content-filters" title="Permalink to this headline">¶</a></h4>
<p>Content filters are defined in <a class="reference external" href="http://www.yaml.org/">YAML</a>, as a dictionary with the
following keys:</p>
<dl class="docutils">
<dt>EXCLUDE_PAGES</dt>
<dd><p class="first">List of regular expressions matching Mediawiki template
names. Excluding templates improves compilation performance since
their content is completely excluded from processing.</p>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Entries containing <tt class="docutils literal"><span class="pre">:</span></tt> character must be quoted</p>
</div>
</dd>
<dt>EXCLUDE_CLASSES</dt>
<dd>List of HTML class names to be excluded. Article HTML elements having one of
these classes will be excluded from final output.</dd>
<dt>EXCLUDE_IDS</dt>
<dd>List of HTML element ids to excluded. Article HTML elements having one of
these ids will be excluded from final output.</dd>
<dt>TEXT_REPLACE</dt>
<dd>List of dictionaries with <cite>re</cite> and <cite>sub</cite> keys defining text
substitutions. Text substitutions are performed on the resulting
article HTML text.
Matching expressions will be replaced with optional substition text
If no substition text is provided, matching patterns will be removed</dd>
</dl>
<p>Here&#8217;s an example of content filter file:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">EXCLUDE_PAGES</span><span class="p-Indicator">:</span>
  <span class="p-Indicator">-</span> <span class="s">&quot;Template:Only</span><span class="nv"> </span><span class="s">in</span><span class="nv"> </span><span class="s">print&quot;</span>
  <span class="c1"># Don&#39;t process navigation boxes</span>
  <span class="p-Indicator">-</span> <span class="s">&quot;Template:Navbar&quot;</span>
  <span class="p-Indicator">-</span> <span class="s">&quot;Template:Navbox&quot;</span>
  <span class="p-Indicator">-</span> <span class="s">&quot;Template:Navboxes&quot;</span>
  <span class="p-Indicator">-</span> <span class="s">&quot;Template:Side</span><span class="nv"> </span><span class="s">box&quot;</span>
  <span class="p-Indicator">-</span> <span class="s">&quot;Template:Sidebar</span><span class="nv"> </span><span class="s">with</span><span class="nv"> </span><span class="s">collapsible</span><span class="nv"> </span><span class="s">lists&quot;</span>
  <span class="c1"># No need for audio</span>
  <span class="p-Indicator">-</span> <span class="s">&quot;Template:Audio&quot;</span>
  <span class="p-Indicator">-</span> <span class="s">&quot;Template:Spoken</span><span class="nv"> </span><span class="s">Wikipedia&quot;</span>
  <span class="c1"># Bulky and unnecessary tables</span>
  <span class="p-Indicator">-</span> <span class="s">&quot;Template:Latin</span><span class="nv"> </span><span class="s">alphabet</span><span class="nv"> </span><span class="s">navbox&quot;</span>
  <span class="p-Indicator">-</span> <span class="s">&quot;Template:Greek</span><span class="nv"> </span><span class="s">Alphabet&quot;</span>
  <span class="c1"># Exclude any stub templates, match case-insensitive</span>
  <span class="p-Indicator">-</span> <span class="s">&quot;(?i).*-stub&quot;</span>

<span class="l-Scalar-Plain">EXCLUDE_CLASSES</span><span class="p-Indicator">:</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">collapsible</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">maptable</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">printonly</span>

<span class="l-Scalar-Plain">EXCLUDE_IDS</span><span class="p-Indicator">:</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">interProject</span>

<span class="l-Scalar-Plain">TEXT_REPLACE</span><span class="p-Indicator">:</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">re</span>  <span class="p-Indicator">:</span> <span class="s">&quot;&amp;lt;(\\w+)</span><span class="nv"> </span><span class="s">(class=[^&gt;]*?)&amp;gt;&quot;</span>
    <span class="l-Scalar-Plain">sub</span> <span class="p-Indicator">:</span> <span class="s">&quot;&lt;\\1</span><span class="nv"> </span><span class="s">\\2&gt;&quot;</span>

  <span class="c1"># Remove empty sections</span>
  <span class="c1"># Used in articles like encyclopaedia</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">re</span>  <span class="p-Indicator">:</span> <span class="s">&quot;&lt;div&gt;&lt;h.&gt;[\\w\\s]*&lt;/h.&gt;(&lt;p&gt;\\s*&lt;/p&gt;)*&lt;/div&gt;&quot;</span>
</pre></div>
</div>
<p>Excluding content by template name is the most effective approach,
however sometimes it is more convenient and concise to exclude content
by HTML class or id. Text replacement is useful for things like fixing
broken output of some templates and getting rid of empty sections. Run
with <tt class="docutils literal"><span class="pre">--debug</span></tt> to have converted article html logged - text
replacement regular expressions should be tested against it.</p>
<p>Content filters are specified with <tt class="docutils literal"><span class="pre">--filters</span></tt> command line
option, as a path to the filters file, or a name of one of filter
files bundled with aardtools. For example, filters defined for English
Wikipedia also work well for Simple English Wikipedia, so to compile
simplewiki we can run</p>
<div class="highlight-python"><div class="highlight"><pre>aardc wiki simplewiki-20130203.cdb simplewiki.json --filter enwiki
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="http://docs.python.org/2/library/re.html">Documentation</a> for the <tt class="xref py py-mod docutils literal"><span class="pre">re</span></tt> module</p>
</div>
</div>
<div class="section" id="language-links">
<h4>Language Links<a class="headerlink" href="#language-links" title="Permalink to this headline">¶</a></h4>
<p>Many Wikipedia articles include language links - links to the
same article in a different language. Optionally, article titles in
other languages can be added to lookup index. This is specified with
<tt class="docutils literal"><span class="pre">--lang-links</span></tt> command line option. For example:</p>
<div class="highlight-python"><div class="highlight"><pre>aardc wiki enwiki-20130128.cdb enwiki.json --lang-links de fr
</pre></div>
</div>
<p>In resulting dictionary articles can be found by their German and
French title, in addition to English. Note that adding language links
slightly increases resulting dictionary size.</p>
</div>
</div>
<div class="section" id="compiling-xdxf-dictionaries">
<h3>Compiling XDXF Dictionaries<a class="headerlink" href="#compiling-xdxf-dictionaries" title="Permalink to this headline">¶</a></h3>
<p>Get a XDXF dictionary, for example:</p>
<div class="highlight-python"><div class="highlight"><pre>wget http://downloads.sourceforge.net/xdxf/comn_dictd04_wn.tar.bz2
</pre></div>
</div>
<p>Compile aar dictionary:</p>
<div class="highlight-python"><div class="highlight"><pre>aardc xdxf comn_dictd04_wn.tar.bz2
</pre></div>
</div>
</div>
<div class="section" id="compiling-aard-dictionaries">
<h3>Compiling Aard Dictionaries<a class="headerlink" href="#compiling-aard-dictionaries" title="Permalink to this headline">¶</a></h3>
<p>.aar dictionaries themselves can be used as input for aardc. This is useful
when dictionary&#8217;s metadata need to be updated or dictionary needs to be split
up into several smaller volumes. For example, to split large dictionary
<cite>dict.aar</cite> into volumes with maximum size of 10 Mb run:</p>
<div class="highlight-python"><div class="highlight"><pre>aardc aard dict.aar -o dict-split.aar -s 10m
</pre></div>
</div>
<p>If <cite>dict.aar</cite> is, say, 15 Mb this will produce two files: 10 Mb <cite>dict-split.1_of_2.aar</cite>
and 5Mb <cite>dict-split.2_of_2.aar</cite>.</p>
<p>To update dictionary metadata:</p>
<div class="highlight-python"><div class="highlight"><pre>aardc aard dict.aar -o dict2.aar --metadata dict.ini
</pre></div>
</div>
</div>
<div class="section" id="compiling-wordnet">
<h3>Compiling <a class="reference external" href="http://wordnet.princeton.edu/">WordNet</a><a class="headerlink" href="#compiling-wordnet" title="Permalink to this headline">¶</a></h3>
<p>Get complete <a class="reference external" href="http://wordnet.princeton.edu/">WordNet</a> distribution:</p>
<div class="highlight-python"><div class="highlight"><pre>wget http://wordnetcode.princeton.edu/3.0/WordNet-3.0.tar.bz2
</pre></div>
</div>
<p>Unpack it:</p>
<div class="highlight-python"><div class="highlight"><pre>tar -xvf WordNet-3.0.tar.bz2
</pre></div>
</div>
<p>and compile:</p>
<div class="highlight-python"><div class="highlight"><pre>aardc wordnet WordNet-3.0
</pre></div>
</div>
</div>
</div>
<div class="section" id="reporting-issues">
<h2>Reporting Issues<a class="headerlink" href="#reporting-issues" title="Permalink to this headline">¶</a></h2>
<p>Please submit issue reports and enhancement requests to <a class="reference external" href="http://github.com/aarddict/tools/issues">Aard
Tools issue tracker</a>.</p>
</div>
</div>


      </div>
      <div class="bottomnav">
	
            
        <p>
        «&#160;&#160;<a href="../../aarddict-android/doc/aarddict-android.html">Aard Dictionary for Android</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../docs/index.html">Docs</a>
        &#160;&#160;::&#160;&#160;
        <a href="aardformat.html">Aard Format</a>&#160;&#160;»
        </p>

	
      </div>




    <div class="footer">
        &copy; Copyright 2008-2013, Igor Tkach.
      Last updated on Dec 20, 2015.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
    <div class="footer">
      <small><a href="http://fontawesome.io">Font Awesome</a> by Dave Gandy</small>
    </div>


  </body>
</html>